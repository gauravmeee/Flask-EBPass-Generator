<!DOCTYPE html>
<html lang="en" class="wide wow-animation smoothscroll scrollTo android mobile portrait rd-navbar-static-linked">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <!-- Site Title-->
    <title>e-Bus Pass</title>
    
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="keywords" content="intense web design multipurpose template">
    <meta name="date" content="Dec 26">
    
    <!----------------------------Title Logo ------------------------------------------------------->
    <link rel="icon" href="static/Assets/DTC1.png" type="image/x-icon">

    <!---------------------------------- Stylesheets------------------------------------------>
    <link rel="stylesheet" href="static/Style/style.css">
		
    <!----------------------------------------- More Jquery and CSS ------------------------------------>
    <link href="static/More/paging.css" rel="stylesheet">
    <script src="static/More/jquery-1.11.1.min.js.download"></script>
    <script src="static/More/jquery.dataTables.min.js.download"></script>
    
    <script>
        $(document).ready(function() {
            $('#example').dataTable({
                "pagingType" : "full_numbers"
            });
        });
    </script>
    <style>
        #blink {
            font-size: 25px;
            font-weight: bold;
            color: #2f8a12;
            transition: 1.5s;
        }
    </style>

    <script type="text/javascript">
        window.history.forward();
        function noBack(){
            window.history.forward();
        }
    </script>

</head>
<body>
    <!-- Page-->
    <div class="page text-center">
      <!-- Page Header-->
      <header class="page-head header-panel-absolute">
        <!-- RD Navbar Transparent-->
        <div class="rd-navbar-wrap" style="height: 241px;">
          <nav data-md-device-layout="rd-navbar-static" data-lg-device-layout="rd-navbar-static" data-stick-up-offset="210" data-xl-stick-up-offset="85" class="rd-navbar rd-navbar-default rd-navbar--is-touch rd-navbar-static" data-lg-auto-height="true" data-auto-height="false" data-md-layout="rd-navbar-static" data-lg-layout="rd-navbar-static" data-lg-stick-up="true">
            <div class="rd-navbar-inner">
              <!-- RD Navbar Panel-->
              <div class="rd-navbar-panel">
                <h4 class="panel-title veil-md">e- Bus Pass</h4>
              </div>
              <div class="rd-navbar-menu-wrap clearfix" style="background-color:#07234b;">
                <!-- Navbar Brand -->
                <div class="rd-navbar-brand"><a href="https://dtcpass.delhi.gov.in/home.jsp" class="reveal-inline-block">
                    <div class="unit unit-xs-middle unit-xl unit-xl-horizontal unit-spacing-xxs"><br>
                      <div class="unit-left"><img style="width:127px; height:97px;" src="static/Assets/DTC1.png" alt=""></div>
                      <div class="unit-body text-xl-left">
                        <div class="rd-navbar-brand-title">Delhi Transport Corporation</div>
                      </div>
                    </div></a>
                </div>
              </div>
            </div>
          </nav>
        </div>
      </header><br>
      <!-- Page Content-->
      <main class="page-content" style="background-color:#d9eeef;">
        <section class="section-10 section-md-14">
            <div class="shell">
                <div class="range range-xs-center">
                    <div class="cell-xs-20 cell-md-12 offset-top-10 offset-md-top-0 text-left">
                        <div class="inset-md-left-40">
                            <div class="offset-top-30">
                                <div class="quick">
                                    <hr class="divider bg-madison hr-sm-left-0">
                                    <div id="image">
                                        <table class="table table-bordered" style="width:100%;border:10px;" background="static/Assets/Dtc.jpeg">
                                            <tbody><tr>
                                                <td class="text-center" colspan="4">
                                                    <h5 class="text-center" style="color:#01a2a6;"><u>DTC And Cluster Bus Pass</u></h5>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center" colspan="4">

<!------------------------------------Profile Picture------------------------------------------------------->
                                                    <img id="profileImage" src="" height="250px" width="250px" style="opacity: 65%;"><br>

 <!------------------------------------Name of Student------------------------------------------------>                                                   
                                                    <label id="userName" style="font-size:20px;"><b></b></label><br>
                                                    <label style="font-size:20px;"><b>Student All route AC/Non AC</b></label><br>
                                                    
                                                    <label style="font-size:25px;color:black;"><b>Bus Pass No.  </b>
                                                    <b id="blink" style="opacity: 2;"></b></label><br>
                                                    <label id="validity" style="font-size:20px;color:red;"><b></b></label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">
                                                    <img src="static/Assets/Sign.jpg" height="80px" width="80px">
                                                </td>
                                                <td class="text-center" colspan="2">
                                                    <img src="static/Assets/QRcode.jpg" height="80px" width="80px">
                                                </td>
                                            </tr>
                                        </tbody></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section> <br>       
      </main>
      <!-- Corporate footer-->
      <footer class="section-50 page-footer bg-catskill" style="background-color:#01a2a6;">
        <div class="shell">
          <div class="range range-xs-center range-sm-middle text-md-left">
            <div class="cell-xs-10 cell-md-4 text-md-right offset-top-20 offset-md-top-0">
              <p class="barnd-name text-ubold" style="color:black;"> <b>Copyright Â©  - Delhi e-Governance Society</b>&nbsp;<span id="copyright-year">2024</span></p>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <!-- Global Mailform Output-->
    <div id="form-output-global" class="snackbars"></div>
    <!-- Java script-->
    <script src="static/Scripts/core.min.js.download"></script>
    <script src="static/Scripts/script.js.download"></script>
  
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name');
            const validity = urlParams.get('validity');
            const startDate = new Date(urlParams.get('startDate'));
            const passNo = urlParams.get('passNo');
            const profilePicBase64 = urlParams.get('profilePicBase64');

            document.getElementById('userName').innerHTML = `<b>${name}</b>`;
            document.getElementById('blink').textContent = passNo;

            const endDate = new Date(startDate);
            endDate.setMonth(endDate.getMonth() + parseInt(validity));
            document.getElementById('validity').innerHTML = `<b>Valid from ${startDate.toLocaleDateString()} to ${endDate.toLocaleDateString()}</b>`;

            // Set profile picture
            if (profilePicBase64) {
                document.getElementById('profileImage').src = `data:image/jpeg;base64,${profilePicBase64}`;
            }

            // Blinking effect for pass number
            setInterval(function() {
                const passNumber = document.getElementById('blink');
                passNumber.style.opacity = (blink.style.opacity == 0 ? 2 : 0);
            }, 1000);
        });
    </script>
</body>
</html>